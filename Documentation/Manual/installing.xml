<?xml version="1.0"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
                         "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % entities.ent SYSTEM "entities.ent">
%entities.ent;
]>

<chapter id="installing">

<title>Installing &MiKTeX;</title>

<section id="installwin">

<title>Installing for &Windows;</title>
  
<para>You use the &BasicMiKTeXInstaller; to install &MiKTeX; on your
&Windows; computer. You can download the installer from the <ulink
url="&hqbaseurl;download">&MiKTeX; download page</ulink>.</para>

<para>Please read <ulink url="&hqbaseurl;howto/install-miktex">the
installation tutorial</ulink> for a step-to-step guide.</para>

<section id="startmenu">

<title>Items in the Start Menu</title>

<para>&MiKTeXSetupWizard; installs the following menu items in the
&Windows;
<indexterm>
<primary>start menu</primary>
</indexterm>
start menu:</para>

<variablelist>

<varlistentry>
<term><menuchoice moreinfo="none">
<guimenu>&progfldr;</guimenu>
<guimenuitem>Previewer</guimenuitem>
</menuchoice></term>
<listitem><para>A shortcut to the &MiKTeX; previewer &Yap;.</para></listitem>
</varlistentry>

<varlistentry>
<term><menuchoice moreinfo="none">
<guimenu>&progfldr;</guimenu>
<guimenuitem>TeXworks</guimenuitem>
</menuchoice></term>
<listitem><para>A shortcut to &TeXworks;, an integrated development environment
for &TeX; and &LaTeX;.</para></listitem>
</varlistentry>

<varlistentry>
<term><menuchoice moreinfo="none">
<guimenu>&progfldr;</guimenu>
<guisubmenu>Help</guisubmenu>
<guimenuitem>FAQ</guimenuitem>
</menuchoice>
<indexterm>
<primary>FAQ (frequently asked questions)</primary>
</indexterm></term>
<listitem><para>Answers to frequently asked questions.</para></listitem>
</varlistentry>

<varlistentry>
<term><menuchoice moreinfo="none">
<guimenu>&progfldr;</guimenu>
<guisubmenu>Help</guisubmenu>
<guimenuitem>Manual</guimenuitem>
</menuchoice></term>
<listitem><para>The &MiKTeX; manual.</para></listitem>
</varlistentry>

<varlistentry>
<term><menuchoice moreinfo="none">
<guimenu>&progfldr;</guimenu>
<guisubmenu>Maintenance</guisubmenu>
<guimenuitem>Package Manager</guimenuitem>
</menuchoice></term>
<listitem><para>A shortcut to the &MiKTeX; package manager.</para></listitem>
</varlistentry>

<varlistentry>
<term><menuchoice moreinfo="none">
<guimenu>&progfldr;</guimenu>
<guisubmenu>Maintenance</guisubmenu>
<guimenuitem>Settings</guimenuitem>
</menuchoice></term>
<listitem><para>A shortcut to &MiKTeXOptions;.</para></listitem>
</varlistentry>

<varlistentry>
<term><menuchoice moreinfo="none">
<guimenu>&progfldr;</guimenu>
<guisubmenu>Maintenance</guisubmenu>
<guimenuitem>Update</guimenuitem>
</menuchoice></term>
<listitem><para>A shortcut to the &MiKTeX; update wizard.</para></listitem>
</varlistentry>

<varlistentry>
<term><menuchoice moreinfo="none">
<guimenu>&progfldr;</guimenu>
<guisubmenu>Maintenance (Admin)</guisubmenu>
<guimenuitem>Package Manager (Admin)</guimenuitem>
</menuchoice></term>
<listitem><para>A shortcut to the admin variant of the &MiKTeX; package manager.</para></listitem>
</varlistentry>

<varlistentry>
<term><menuchoice moreinfo="none">
<guimenu>&progfldr;</guimenu>
<guisubmenu>Maintenance (Admin)</guisubmenu>
<guimenuitem>Settings (Admin)</guimenuitem>
</menuchoice></term>
<listitem><para>A shortcut to the admin variant of &MiKTeXOptions;.</para></listitem>
</varlistentry>

<varlistentry>
<term><menuchoice moreinfo="none">
<guimenu>&progfldr;</guimenu>
<guisubmenu>Maintenance (Admin)</guisubmenu>
<guimenuitem>Update (Admin)</guimenuitem>
</menuchoice></term>
<listitem><para>A shortcut to the admin variant of the &MiKTeX; update wizard.</para></listitem>
</varlistentry>

<varlistentry>
<term><menuchoice moreinfo="none">
<guimenu>&progfldr;</guimenu>
<guisubmenu>MiKTeX on the Web</guisubmenu>
<guimenuitem>Known Issues</guimenuitem>
</menuchoice></term>
<listitem><para>An Internet shortcut to the &MiKTeX; issues page.</para></listitem>
</varlistentry>

<varlistentry>
<term><menuchoice moreinfo="none">
<guimenu>&progfldr;</guimenu>
<guisubmenu>MiKTeX on the Web</guisubmenu>
<guimenuitem>MiKTeX Project Page</guimenuitem>
</menuchoice></term>
<listitem><para>An Internet shortcut to the &MiKTeX; project page.</para></listitem>
</varlistentry>

<varlistentry>
<term><menuchoice moreinfo="none">
<guimenu>&progfldr;</guimenu>
<guisubmenu>MiKTeX on the Web</guisubmenu>
<guimenuitem>Registration</guimenuitem>
</menuchoice></term>
<listitem><para>An Internet shortcut to the &MiKTeX; registration page.</para></listitem>
</varlistentry>

<varlistentry>
<term><menuchoice moreinfo="none">
<guimenu>&progfldr;</guimenu>
<guisubmenu>MiKTeX on the Web</guisubmenu>
<guimenuitem>Support</guimenuitem>
</menuchoice></term>
<listitem><para>An Internet shortcut to the &MiKTeX; support page.</para></listitem>
</varlistentry>

</variablelist>

</section>

<section id="uninstalling">

<title>Removing &MiKTeX;</title>

<para>&MiKTeX; can be removed from your computer in the following way:
<indexterm>
<primary>uninstaller</primary>
</indexterm>
<indexterm>
<primary>MiKTeX</primary>
<secondary>uninstalling</secondary>
</indexterm>
<indexterm>
<primary>Remove MiKTeX Wizard</primary>
</indexterm></para>

<procedure>

<step><para>Open <application>Control Panel</application>.</para></step>

<step><para>Double-click <guilabel>Add or Remove
Programs</guilabel>.</para></step>

<step><para>Click <guimenuitem>&progfldr;</guimenuitem>.</para></step>

<step><para>Click <guimenuitem>Change/Remove</guimenuitem>.</para></step>

</procedure>

</section>

</section>

<section id="installmac">

<title>Installing for &macOS;</title>

<para>&MiKTeX; can be installed via the &Homebrew; package manager.</para>

<section>

<title>Install &Homebrew;</title>
	 
<para>If you don't already have &Homebrew; installed, you can install it by pasting</para>

<informalexample>
<screen><prompt>&promptunx;</prompt><userinput>/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
</userinput></screen>
</informalexample>

<para>in a &Terminal; prompt.  Please visit the <ulink url="https://brew.sh">&Homebrew; homepage</ulink>
for more detailed instructions.</para>

</section>

<section>

<title>Install &MiKTeX;</title>

<para>&MiKTeX; can then be installed by pasting these commands:</para>

<informalexample>
<screen><prompt>&promptunx;</prompt><userinput>brew tap miktex/miktex</userinput>
<prompt>&promptunx;</prompt><userinput>brew install miktex</userinput></screen>
</informalexample>

<para>in a &Terminal; prompt.  The first command adds the &MiKTeX;
repository to the list of formulae that &Homebrew; tracks, updates and
installs from.  The second command sets up a bare minimum &MiKTeX;, i.e.,
only executable files and manual pages.</para>

<para>From time to time, you should run</para>

<informalexample>
<screen><prompt>&promptunx;</prompt><userinput>brew update</userinput>
<prompt>&promptunx;</prompt><userinput>brew outdated miktex || brew upgrade miktex</userinput></screen>
</informalexample>

<para>This will update the &MiKTeX; executables, if there is a newer Version available.</para>

</section>

<section>

<title>Installing packages</title>

<para>&MiKTeX; is pre-configured to install missing files on-the-fly,
which allows you to keep the &TeX; installation reduced to the most
necessary.</para>

<para>If you intend to work offline, you can upgrade your &TeX;
installation by runnning</para>

<informalexample>
<screen><prompt>&promptunx;</prompt><userinput>mpm --admin --package-level=basic --upgrade</userinput></screen>
</informalexample>

<para>This will upgrade to a &TeX; installation which has the most
popular packages.  If you want to install all available packages, then
you can choose package level
<userinput>complete</userinput>.</para>

</section>

<section>

<title>Directory Structure</title>

<para>&TEXMF; root directories:</para>

<itemizedlist>
<listitem><para>UserConfig: <filename>~/.miktex/texmfs/config</filename></para></listitem>
<listitem><para>UserData: <filename>~/.miktex/texmfs/data</filename></para></listitem>
<listitem><para>UserInstall: <filename>~/.miktex/texmfs/install</filename></para></listitem>
<listitem><para>CommonConfig: <filename>/usr/local/var/lib/miktex-texmf</filename></para></listitem>
<listitem><para>CommonData: <filename>/usr/local/var/cache/miktex-texmf</filename></para></listitem>
<listitem><para>CommonInstall: <filename>/usr/local/share/miktex-texmf</filename></para></listitem>
</itemizedlist>

<para>Special directories:</para>

<itemizedlist>
<listitem><para>&MiKTeX; binaries: <filename>/usr/local/bin</filename></para></listitem>
<listitem><para>&MiKTeX; internal binaries: <filename>/usr/local/lib/miktex</filename></para></listitem>
<listitem><para>&MiKTeX; shared objects: <filename>/usr/local/lib</filename></para></listitem>
<listitem><para>&MiKTeX; man pages: <filename>/usr/local/share/man/man<replaceable>x</replaceable></filename></para></listitem>
</itemizedlist>

</section>

</section>

<section id="installunx">

<title>Installing for &Linux;</title>

<para>
</para>

</section>

</chapter>
